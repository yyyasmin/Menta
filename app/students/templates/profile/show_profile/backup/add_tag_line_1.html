	<!-- FROM https://www.youtube.com/watch?v=XTpLbBJTOM4 -->

{% block show_std_profile_by_tag %}

<style>

</style>

</br>

			<tr>  
			
				<td>  
					<select id="tag" style="max-width:100%;">	
						{% for tag in tags %}
							<option value="{{ tag.id }}">
								{{ tag.title|replace("-", "\n") }}  {{tag.id}}
							</option>
						{% endfor %}
					</select>
				</td>				
					
				<td>
					<select id="sub_tag" style="max-width:100%">	
						{% for sub_tag in sub_tags %}
							<option>
								{{sub_tag.title}}  {{sub_tag.id}}
							</option>
						{% endfor %}
					</select>			
				</td>
					
				<td>
					<button type="button"
							value="Add Row" onclick="addRow('dataTable')"   
							data-toggle="modal" data-target="#new_sbj_modal" 
							id="add_button" 
							style="color:{{sbj.color}}; margin-bottom:3em; margin-top:1em; align:center; float:none;">
								הוסף תחום ענין
					</button>
				</td>
						
				<td>
					<button type="button"
							value="Add Row" onclick="addRow('dataTable')"   
							data-toggle="modal" data-target="#new_strn_modal" 
							id="add_button" 
							style="color:{{strn.color}}; margin-bottom:3em; margin-top:1em; align:center; float:none;">
								הוסף מוקד כח
					</button>
				</td>
						
				<td>
					<button type="button"
							value="Add Row" onclick="addRow('dataTable')"   
							data-toggle="modal" data-target="#new_weak_modal" 
							id="add_button" 
							style="color:{{weak.color}}; margin-bottom:3em; margin-top:1em; align:center; float:none;">
								הוסף מוקד לחיזוק
					</button>
				</td>		
				
			</tr>
			



<script>

// FROM https://youtu.be/I2dJuNwlIH0?t=717	
	let tag_select = document.getElementById('tag');
	let sub_tag_select = document.getElementById('sub_tag');
	
	console.log("tag_select");
	console.log(tag_select);
	console.log("sub_tag_select");
	console.log(sub_tag_select);


	tag_select.onchange = function(){
		tag_id = tag_select.value;
		console.log("tag_id");
		console.log(tag_id);
		
		fetch('/sub_tag/' + tag_id).then(function(response)  {
			response.json().then(function(data) {
				
				// FROM https://stackoverflow.com/questions/2738254/javascript-innerhtml-not-working-with-html-select-menus
				while ( sub_tag_select.childNodes.length >= 1 )   {
					sub_tag_select.removeChild(sub_tag_select.firstChild);       
				}

				for(let sub_tag of data.sub_tags)  {
					newOption = document.createElement('option');
					newOption.value=sub_tag.id;
					newOption.text=sub_tag.title;
					sub_tag_select.appendChild(newOption);
				}	

			console.log("sub_tag_select");
			console.log(sub_tag_select);
			})
		});
	}

</script>




				
{% endblock show_std_profile_by_tag %}