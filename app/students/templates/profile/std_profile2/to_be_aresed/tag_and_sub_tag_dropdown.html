{% block tag_sub_tag_dropdown %} 


<style type="text/css">
ul.tabs {
  display: flex;
  flex-wrap: nowrap;
  align-items: stretch;
  list-style-type: none;
  margin: 0;
  padding: 0;
}

ul.tabs>li.tab {
  flex: 1;
  text-align: center;
  /* just adding visibility to the tabs */
  border: 1px solid rgba(0,0,0,.12); 
  padding: 10px;
}


input {
	width: 100%;
}

#submit_button {
	display: block;
	margin: 0 auto;
	width:fit-content;
}

</style>


	<!-- FROM https://www.tutorialspoint.com/flask/flask_wtf.htm -->		
	<!-- <div style = "font-size:20px; font-weight:bold;  float:right; text-align:center; width:100%"> -->
	<div style = "text-align:center; width:100%">
				
		<ul class="tabs">
			
			<li class="tab " id="tab-3"><span class="tab-title">
				<label for="selected_ar">בחר קבוצת גיל</label>
				<select class="select" onchange="this.dataset.chosen = this.value;" name="selected_ar" id="selected_ar">	
					{% for tag in age_ranges %}
						{% if tag.id == default_ar.id %}
							<option value="{{ tag.title }}" selected="selected">{{ tag.title }}</option>
						{% else %}
							<option value="{{ tag.title }}">{{ tag.title }}</option>
						{% endif %}
					{% endfor %}
				</select>					
			</li>
											
			<li class="tab " id="tab-3"><span class="tab-title">
				<label for="selected_tag">בחר נושא</label>
				<select class="select" onchange="this.dataset.chosen = this.value;" name="selected_tag" id="selected_tag">	
					{% for sub_tag in tags %}
						{% if sub_tag.id == default_tag.id %}
							<option value="{{ sub_tag.title }}" selected="selected">{{ sub_tag.title }}</option>
						{% else %}
							<option value="{{ sub_tag.title }}">{{ sub_tag.title }}</option>
						{% endif %}
					{% endfor %}
				</select>					
			</li>
			
			<li class="tab " id="tab-3"><span class="tab-title">
				<button class="btn btn-success btn-xs" type="submit" name="txt_type_form_button_name" value="0">שמור</button>				
			</li>
									
											
		</ul>
												
	</div>
	<!-- FROM https://www.tutorialspoint.com/flask/flask_wtf.htm -->					



<!-- FROM https://github.com/PrettyPrinted/dynamic_select_flask_wtf_javascript -->
<script>
	var ar_select = document.getElementById("tag");
	var tag_select = document.getElementById("sub_tag");

	ar_select.onchange = function()  {
		 
		tag = ar_select.value;
		
		fetch('/sub_tag/' + tag).then(function(response) {

			response.json().then(function(data) {
				var optionHTML = '';

				for (var sub_tag of data.tags) {
					optionHTML += '<option value="' + sub_tag.id + '">' + sub_tag.title + '</option>';
				}

				tag_select.innerHTML = optionHTML;
			})
			
		});
	}
</script>

<script>
	vtag tag_select = document.getElementById("sub_tag");
	vtag scrt_select = document.getElementById("scrt");

	tag_select.onchange = function()  {
		 
		sub_tag = tag_select.value;
		
		fetch('/scrt/' + sub_tag).then(function(response) {

			response.json().then(function(data) {
				vtag optionHTML = '';

				for (vtag scrt of data.scrts) {
					optionHTML += '<option value="' + scrt.id + '">' + scrt.title + '</option>';
				}

				scrt_select.innerHTML = optionHTML;
			})
			
		});
	}
</script>
<!-- FROM https://github.com/PrettyPrinted/dynamic_select_flask_wtf_javascript -->


{% endblock tag_sub_tag_dropdown %}