{% extends "layout.html" %}

{% block content %}

<!-- from CodePen https://codepen.io/-a/full/amOYGp -->
<style>


</style>

<div class="w3-container" id="container_id">

</br>

<center><h3><div><h4><strong><u>רשימת מטרות לתלמיד {{std.first_name }} {{ std.last_name }}</u></strong></h4></div></h3></center>
	<div>	
	
	{% for ar in age_ranges %}
		</br>
		<div><h4><strong><u>קבוצת גיל {{ ar.title }}</u></strong></h4></div>
		{% for tag in tags %}
			{% for dst in ar.destinations %}
				{% for std_dst in destinations %}
					{% if std_dst.destination_id == dst.id %}
					{% for dt in dst.tags %}
					{% if dt.tag_id == tag.id %}
						<div><h4><strong><u> נושא: {{ tag.title }}</u></strong></h4></div>						
							<button class="btn btn-danger btn-xs" id="edit_list_id"><a href="{{ url_for('students.match_destination_to_student2', selected_destination_id=dst.id) }}">הוסף מטרה זו לתלמיד</a></button>
					
							<button class="accordion">Destination's title: {{ dst.title }}</button>
							<div class="panel">
								<button>Destination's description: {{ dst.body }}.</button>				
							</div>	
					{% endif %}  <!-- dst.tags  -->
				{% endfor %}  <!-- dt in dst.tags -->
				{% endif %}   <!--  if std_dst.destination_id == dst.id -->
				{% endfor %}  <!-- for std_dst in destinations -->
			{% endfor %}  <!-- dst in ar.destinations -->
		{% endfor %}  <!-- tag in tags -->
	{% endfor %}  <!-- ar in age_ranges -->	</div>
</div>   <!-- container -->


<script type="text/javascript" src="{{ url_for('static', filename='js/tree_list_plus.js') }}"></script>
<script>
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].onclick = function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight){
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  }
}
</script>

{% endblock %}



